<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css}" rel="stylesheet">
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css}"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <section>
        <div class="container py-5" >
            <div class="row">
                <div class="col-md-1 pt-4 mt-1 fw-bolder"><a th:href="@{/administracion/home}"><i class="fa-solid fa-circle-left fa-2x"></i></a></div>
                <div class="col-md-11 card-header text-center display-6 pt-3 mt-1 fw-bolder">Panel de Productos</div>
            </div>
            <div class="row">
                <div class="col-md-12 mt-4">
                    
                    <div class="card card-sh">
                        <div class="card-header text-center">
                            <a class="btn btn-success btn-sm" th:href="@{/administracion/verFormularioCrear}" title="Crear"><i class="fa-solid fa-square-plus fa-2x"></i> Crear nuevo producto</a>
                            <th:block th:if="${session.conformidadMensaje}">
                                <p class="text-center text-success fs-6 fw-bold mb-1">[[${session.conformidadMensaje}]]
                                </p>
                                <th:block th:text="${@commonServiceImplen.removerMensajeSession()}"></th:block>
                            </th:block>
                            <th:block th:if="${session.errorMensaje}">
                                <p class="text-center text-danger fs-6 fw-bold mb-1">[[${session.errorMensaje}]]</p>
                                <th:block th:text="${@commonServiceImplen.removerMensajeSession()}"></th:block>
                            </th:block>
                        </div>
                        <div class="card-body text-primary">
                            <div class="table-responsive">
                                <table class="table table-dark border border-white">
                                <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Nombre</th>
                                        <th scope="col">Descripcion</th>
                                        <th scope="col">Categoria</th>
                                        <th scope="col">Precio</th>
                                        <th scope="col">Stock</th>
                                        <th scope="col">Imagen</th>
                                        <th scope="col">Acci√≥n</th>
                                    </tr>
                                </thead>
                                <tbody style="font-size: 14px;">
                                    <tr th:each="p,c:${productos}">
                                        <th scope="row">[[${c.count}]]</th>
                                        <td>[[${p.nombre}]]</td>
                                        <td>[[${p.descripcion}]]</td>
                                        <td>[[${p.categoria}]]</td>
                                        <td>[[${p.precio}]]</td>
                                        <td>[[${p.stock}]]</td>
                                        <td><img th:src="@{'/imagenes/'+${p.imagen}}" alt=""
                                                style="width: auto; height: 80px;"></td>
                                        <td>
                                            <a class="btn btn-primary btn-sm" th:href="@{'/administracion/verActualizarProducto/'+${p.id}}">
                                                <i class="fa-solid fa-pen-to-square"></i>
                                            </a>

                                            <a class="btn btn-danger btn-sm"
                                                th:href="@{'/administracion/eliminarProducto/'+${p.id}}" title="Eliminar"><i
                                                    class="fa-solid fa-trash"></i></a>
                                        </td>
                                    </tr>


                                </tbody>
                            </table>
                            </div>
                        </div>
                    </div>
                
                </div>
            </div>
        </div>
    </section>
    <script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js}"></script>

</body>
</html>